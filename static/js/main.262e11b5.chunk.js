(this.webpackJsonpjuan_carlos_web=this.webpackJsonpjuan_carlos_web||[]).push([[0],{79:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),s=n(22),c=n(17),u=n(29),l=n(27),h=n(41),d=n(129),j=n(15),b=n(19),m=n(52),p=n(123),f=n(117),O=n(121),v=n(122),g=n(7),x=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).props=t,a.imdbId=t.imdbId,a.state={torrentInfoHash:"",torrentMagnetURI:"",torrentName:"",torrentProgress:"",torrentFiles:[],mp4file:{},streams:[]},a.watch=a.watch.bind(Object(b.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.listStreams()}},{key:"buildQuery",value:function(){var t={params:[null,{query:{imdb_id:this.imdbId,type:"movie",video_id:this.imdbId}}],method:"stream.find",id:1,jsonrpc:"2.0"};return btoa(JSON.stringify(t))}},{key:"listStreams",value:function(){var t=this;fetch("".concat("https://juan.best4stremio.space/stremioget/stremio/v1/q.json?b=").concat(this.buildQuery()),{method:"GET"}).then((function(t){if(!t.ok)throw Error(t.statusText);return t.json()})).then((function(e){t.generateList(e.result)})).catch((function(t){console.error("Error:",t)}))}},{key:"generateList",value:function(t){function e(t){return Object(g.jsx)(f.a,Object(j.a)({button:!0,component:"a"},t))}var n,r=[],i=Object(m.a)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.filename;void 0===s&&(s=document.getElementById("imdb_search").value);var c="".concat(window.location.href).concat(o.infoHash);r.push(Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(e,{button:!0,href:c,children:Object(g.jsx)(O.a,{primary:s,infohash:o.infoHash})}),Object(g.jsx)(v.a,{})]},o.infoHash))}}catch(u){i.e(u)}finally{i.f()}this.setState(Object(j.a)(Object(j.a)({},this.state),{},{streams:r}))}},{key:"watch",value:function(t){window.location.href=t}},{key:"render",value:function(){return Object(g.jsx)(a.Fragment,{children:Object(g.jsx)(p.a,{component:"nav","aria-label":"mailbox folders",children:this.state.streams})})}}]),n}(a.Component),y=n(130),k=n(131),w=n(126),F=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).props=t,a.state={open:!1,options:[],streamList:[]},a.searchTitle=a.searchTitle.bind(Object(b.a)(a)),a.listStreams=a.listStreams.bind(Object(b.a)(a)),a.data=[],a.url=window.location.origin+window.location.pathname,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"fetchList",value:function(){var t=this;fetch("".concat(this.url,"/movies.json"),{method:"GET"}).then((function(t){return t.json()})).then((function(e){t.data=e})).catch((function(t){console.error("Error:",t)}))}},{key:"searchJson",value:function(t){for(var e=[],n=0;n<this.data.length;n++)this.data[n].originalTitle.toLowerCase().includes(t.toLowerCase())&&e.push(this.data[n]);return e}},{key:"searchTitle",value:function(t){var e=this,n=t.target.value;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{options:e.searchJson(n)}))}),300)}},{key:"listStreams",value:function(){var t=this.searchJson(document.getElementById("imdb_search").value)[0].tconst;this.setState(Object(j.a)(Object(j.a)({},this.state),{},{streamList:Object(g.jsx)(x,{imdbId:t},t)}))}},{key:"render",value:function(){var t=this;return Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(k.a,{id:"imdb_search",style:{width:"100%"},open:this.state.open,onOpen:function(){t.setState(Object(j.a)(Object(j.a)({},t.state),{},{open:!0}))},onClose:function(){t.setState(Object(j.a)(Object(j.a)({},t.state),{},{open:!1}))},getOptionSelected:function(t,e){return t.originalTitle===e.originalTitle},getOptionLabel:function(t){return t.originalTitle},options:this.state.options,renderTags:this.listStreams,renderInput:function(e){return Object(g.jsx)(y.a,Object(j.a)(Object(j.a)({},e),{},{label:"Type the movie name",variant:"outlined",onChange:function(e){t.searchTitle(e)},InputProps:Object(j.a)({},e.InputProps)}))}}),Object(g.jsx)(w.a,{variant:"contained",onClick:this.listStreams,children:"Search Available streams"}),this.state.streamList]})}}]),n}(a.Component),T=n(13),S=n(127),I=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).infoHash=t.match.params.id,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.startStream()}},{key:"startStream",value:function(){(new window.WebTorrent).add(this.generateMagnetLink(this.infoHash),(function(t){t.files.find((function(t){return t.name.endsWith(".mp4")})).appendTo("#player",(function(t,e){document.getElementById("progress").remove()}))}))}},{key:"generateMagnetLink",value:function(t){return"magnet:?xt=urn:btih:".concat(t,"&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com")}},{key:"render",value:function(){return Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)("div",{id:"player",children:Object(g.jsx)(S.a,{id:"progress"})})})}}]),n}(a.Component),A=Object(T.f)(I),L=n(4),C=n(128),E=n(45),_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props.classes;return Object(g.jsx)(r.a.Fragment,{children:Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsx)(C.a,{}),Object(g.jsxs)(d.a,{component:"main",className:t.main,maxWidth:"sm",children:[Object(g.jsx)(h.a,{variant:"h2",component:"h1",gutterBottom:!0,children:"WebStremio"}),Object(g.jsx)(E.a,{children:Object(g.jsxs)(T.c,{children:[Object(g.jsx)(T.a,{exact:!0,path:"/",children:Object(g.jsx)(F,{})}),Object(g.jsx)(T.a,{path:"/:id",children:Object(g.jsx)(A,{})})]})})]}),Object(g.jsx)("footer",{className:t.footer,children:Object(g.jsx)(d.a,{maxWidth:"sm",children:Object(g.jsx)(h.a,{variant:"body1",children:"We love Stremio"})})})]})})}}]),n}(a.Component),B=Object(L.a)((function(t){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:t.spacing(8),marginBottom:t.spacing(2)},footer:{padding:t.spacing(3,2),marginTop:"auto",backgroundColor:"light"===t.palette.type?t.palette.grey[200]:t.palette.grey[800]}}}))(_),H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,133)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),i(t),o(t)}))};o.a.render(Object(g.jsx)(B,{}),document.getElementById("root")),H()}},[[79,1,2]]]);
//# sourceMappingURL=main.262e11b5.chunk.js.map