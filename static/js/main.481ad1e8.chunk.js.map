{"version":3,"sources":["StreamList.js","App.js","reportWebVitals.js","index.js"],"names":["StreamList","props","imdbId","state","streams","startStream","bind","this","listStreams","params","btoa","JSON","stringify","fetch","buildQuery","method","then","response","ok","Error","statusText","json","data","generateList","result","catch","error","console","event","magnetURI","target","parentElement","attributes","infohash","value","WebTorrent","add","torrent","log","files","find","file","name","endsWith","appendTo","items","stream","movie","filename","undefined","document","getElementById","push","ListItem","button","ListItemText","primary","infoHash","onClick","Divider","setState","List","component","aria-label","Component","App","open","options","streamList","searchTitle","fetchList","window","location","href","title","results","i","length","toLowerCase","includes","timeout","clearTimeout","setTimeout","searchJson","tconst","classes","className","root","CssBaseline","Container","main","maxWidth","Typography","variant","gutterBottom","Autocomplete","id","style","width","onOpen","onClose","getOptionSelected","option","originalTitle","getOptionLabel","renderTags","renderInput","TextField","label","onChange","ev","InputProps","Button","footer","withStyles","theme","display","flexDirection","minHeight","marginTop","spacing","marginBottom","padding","backgroundColor","palette","type","grey","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.481ad1e8.chunk.js","sourcesContent":["import { Component, Fragment } from 'react';\nimport WebTorrent from 'webtorrent';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\n\nconst JuanCarlos = \"https://juan.best4stremio.space/stremioget/stremio/v1/q.json?b=\"\n\nclass StreamList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.props = props\n\t\tthis.imdbId = props.imdbId\n\t\tthis.state = { streams: [] }\n\t\tthis.startStream = this.startStream.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.listStreams()\n\t}\n\n\tbuildQuery() {\n\t\tlet params = {\n\t\t\t\"params\": [\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\t\"query\": {\n\t\t\t\t\t\t\"imdb_id\": this.imdbId,\n\t\t\t\t\t\t\"type\": \"movie\",\n\t\t\t\t\t\t\"video_id\": this.imdbId\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"method\": \"stream.find\",\n\t\t\t\"id\": 1,\n\t\t\t\"jsonrpc\": \"2.0\"\n\t\t}\n\n\t\treturn btoa(JSON.stringify(params))\n\t}\n\n\tlistStreams() {\n\t\tfetch(`${JuanCarlos}${this.buildQuery()}`, {\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow Error(response.statusText);\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tthis.generateList(data.result)\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t});\n\t}\n\n\tstartStream(event) {\n\t\tlet magnetURI = event.target.parentElement.attributes.infohash.value\n\t\tvar client = new WebTorrent()\n\n\t\tclient.add(magnetURI, function (torrent) {\n\t\t\t// Torrents can contain many files. Let's use the .mp4 file\n\t\t\tdebugger;\n\t\t\tconsole.log(torrent.files)\n\t\t\tvar file = torrent.files.find(function (file) {\n\t\t\t\treturn file.name.endsWith('.mp4')\n\t\t\t})\n\n\t\t\t// Display the file by adding it to the DOM.\n\t\t\t// Supports video, audio, image files, and more!\n\t\t\tfile.appendTo('body')\n\t\t})\n\t}\n\n\tgenerateList(streams) {\n\t\tconst items = []\n\t\tfor (let stream of streams) {\n\t\t\tlet movie = stream.filename\n\t\t\tif (movie === undefined)\n\t\t\t\tmovie = document.getElementById(\"imdb_search\").value\n\t\t\titems.push(<Fragment key={stream.infoHash}>\n\t\t\t\t<ListItem button>\n\t\t\t\t\t<ListItemText primary={movie} infohash={stream.infoHash} onClick={this.startStream} />\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t</Fragment>)\n\t\t}\n\t\tthis.setState({ ...this.state, streams: items })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<List component=\"nav\" aria-label=\"mailbox folders\">\n\t\t\t\t\t{this.state.streams}\n\t\t\t\t</List>\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\nexport default StreamList;","import { React, Component } from 'react';\nimport StreamList from './StreamList';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n  },\n  main: {\n    marginTop: theme.spacing(8),\n    marginBottom: theme.spacing(2),\n  },\n  footer: {\n    padding: theme.spacing(3, 2),\n    marginTop: 'auto',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[800],\n  },\n});\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.props = props\n    this.state = {\n      open: false,\n      options: [],\n      streamList: [],\n    }\n    this.searchTitle = this.searchTitle.bind(this);\n    this.listStreams = this.listStreams.bind(this)\n    this.data = []\n  }\n\n  componentDidMount() {\n    this.fetchList()\n  }\n\n  fetchList() {\n    fetch(`${window.location.href}/movies.json`, {\n      method: 'GET',\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.data = data\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n  }\n  searchJson(title) {\n    let results = []\n    for (var i = 0; i < this.data.length; i++) {\n      if (this.data[i][\"originalTitle\"].toLowerCase().includes(title.toLowerCase()))\n        results.push(this.data[i]);\n    }\n    return results\n  }\n\n  searchTitle(event) {\n    let title = event.target.value\n    if (this.timeout) clearTimeout(this.timeout);\n    this.timeout = setTimeout(() => {\n      this.setState({ ...this.state, options: this.searchJson(title) });\n    }, 300);\n  }\n\n  listStreams() {\n    let items = this.searchJson(document.getElementById(\"imdb_search\").value)\n    let imdbId = items[0].tconst\n    this.setState({ ...this.state, streamList: <StreamList key={imdbId} imdbId={imdbId} /> })\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <Container component=\"main\" className={classes.main} maxWidth=\"sm\">\n          <Typography variant=\"h2\" component=\"h1\" gutterBottom>\n            WebStremio\n        </Typography>\n          <Autocomplete\n            id=\"imdb_search\"\n            style={{ width: 500 }}\n            open={this.state.open}\n            onOpen={() => { this.setState({ ...this.state, open: true }); }}\n            onClose={() => { this.setState({ ...this.state, open: false }); }}\n            getOptionSelected={(option, value) => option.originalTitle === value.originalTitle}\n            getOptionLabel={option => option.originalTitle}\n            options={this.state.options}\n            renderTags={this.listStreams}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label=\"Type the movie name\"\n                variant=\"outlined\"\n                onChange={ev => { this.searchTitle(ev) }}\n                InputProps={{\n                  ...params.InputProps,\n                }}\n              />\n            )}\n          /><Button variant=\"contained\" onClick={this.listStreams}>Search Available streams</Button>\n          {this.state.streamList}\n        </Container>\n        <footer className={classes.footer}>\n          <Container maxWidth=\"sm\">\n            <Typography variant=\"body1\">We love Stremio</Typography>\n          </Container>\n        </footer>\n      </div>\n\n    );\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}