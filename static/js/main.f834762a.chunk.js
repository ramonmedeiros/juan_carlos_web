(this.webpackJsonpjuan_carlos_web=this.webpackJsonpjuan_carlos_web||[]).push([[0],{79:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(11),c=n.n(o),i=n(22),s=n(17),u=n(29),l=n(27),h=n(41),d=n(127),p=n(15),b=n(19),F=n(52),m=n(122),j=n(116),f=n(120),A=n(121),g=n(7),O=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).props=t,r.imdbId=t.imdbId,r.state={torrentInfoHash:"",torrentMagnetURI:"",torrentName:"",torrentProgress:"",torrentFiles:[],mp4file:{},streams:[]},r.watch=r.watch.bind(Object(b.a)(r)),r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.listStreams()}},{key:"buildQuery",value:function(){var t={params:[null,{query:{imdb_id:this.imdbId,type:"movie",video_id:this.imdbId}}],method:"stream.find",id:1,jsonrpc:"2.0"};return btoa(JSON.stringify(t))}},{key:"listStreams",value:function(){var t=this;fetch("".concat("https://juan.best4stremio.space/stremioget/stremio/v1/q.json?b=").concat(this.buildQuery()),{method:"GET"}).then((function(t){if(!t.ok)throw Error(t.statusText);return t.json()})).then((function(e){t.generateList(e.result)})).catch((function(t){console.error("Error:",t)}))}},{key:"generateList",value:function(t){function e(t){return Object(g.jsx)(j.a,Object(p.a)({button:!0,component:"a"},t))}var n,a=[],o=Object(F.a)(t);try{for(o.s();!(n=o.n()).done;){var c=n.value,i=c.filename;void 0===i&&(i=document.getElementById("imdb_search").value);var s="".concat(window.location.href).concat(c.infoHash);a.push(Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(e,{button:!0,href:s,children:Object(g.jsx)(f.a,{primary:i,infohash:c.infoHash})}),Object(g.jsx)(A.a,{})]},c.infoHash))}}catch(u){o.e(u)}finally{o.f()}this.setState(Object(p.a)(Object(p.a)({},this.state),{},{streams:a}))}},{key:"watch",value:function(t){window.location.href=t}},{key:"render",value:function(){return Object(g.jsx)(r.Fragment,{children:Object(g.jsx)(m.a,{component:"nav","aria-label":"mailbox folders",children:this.state.streams})})}}]),n}(r.Component),v=n(128),k=n(129),y=n(125),x=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).props=t,r.state={open:!1,options:[],streamList:[]},r.searchTitle=r.searchTitle.bind(Object(b.a)(r)),r.listStreams=r.listStreams.bind(Object(b.a)(r)),r.data=[],r.url=window.location.origin+window.location.pathname,r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"fetchList",value:function(){var t=this;fetch("".concat(this.url,"/movies.json"),{method:"GET"}).then((function(t){return t.json()})).then((function(e){t.data=e})).catch((function(t){console.error("Error:",t)}))}},{key:"searchJson",value:function(t){for(var e=[],n=0;n<this.data.length;n++)this.data[n].originalTitle.toLowerCase().includes(t.toLowerCase())&&e.push(this.data[n]);return e}},{key:"searchTitle",value:function(t){var e=this,n=t.target.value;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{options:e.searchJson(n)}))}),300)}},{key:"listStreams",value:function(){var t=this.searchJson(document.getElementById("imdb_search").value)[0].tconst;this.setState(Object(p.a)(Object(p.a)({},this.state),{},{streamList:Object(g.jsx)(O,{imdbId:t},t)}))}},{key:"render",value:function(){var t=this;return Object(g.jsxs)(r.Fragment,{children:[Object(g.jsx)(k.a,{id:"imdb_search",style:{width:500},open:this.state.open,onOpen:function(){t.setState(Object(p.a)(Object(p.a)({},t.state),{},{open:!0}))},onClose:function(){t.setState(Object(p.a)(Object(p.a)({},t.state),{},{open:!1}))},getOptionSelected:function(t,e){return t.originalTitle===e.originalTitle},getOptionLabel:function(t){return t.originalTitle},options:this.state.options,renderTags:this.listStreams,renderInput:function(e){return Object(g.jsx)(v.a,Object(p.a)(Object(p.a)({},e),{},{label:"Type the movie name",variant:"outlined",onChange:function(e){t.searchTitle(e)},InputProps:Object(p.a)({},e.InputProps)}))}}),Object(g.jsx)(y.a,{variant:"contained",onClick:this.listStreams,children:"Search Available streams"}),this.state.streamList]})}}]),n}(r.Component),w=n(13),S=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).infoHash=t.match.params.id,r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.startStream()}},{key:"startStream",value:function(){(new window.WebTorrent).add(this.generateMagnetLink(this.infoHash),(function(t){console.log("AAAAAAAAAA"),console.log(t.files),t.files.find((function(t){return t.name.endsWith(".mp4")})).appendTo("body"),t.on("download",(function(e){console.log("just downloaded: "+e),console.log("total downloaded: "+t.downloaded),console.log("download speed: "+t.downloadSpeed),console.log("progress: "+t.progress)}))}))}},{key:"generateMagnetLink",value:function(t){return"magnet:?xt=urn:btih:".concat(t,"&dn=").concat(t,"&tr=http%3A%2F%2F125.227.35.196%3A6969%2Fannounce&tr=http%3A%2F%2F210.244.71.25%3A6969%2Fannounce&tr=http%3A%2F%2F210.244.71.26%3A6969%2Fannounce&tr=http%3A%2F%2F213.159.215.198%3A6970%2Fannounce&tr=http%3A%2F%2F37.19.5.139%3A6969%2Fannounce&tr=http%3A%2F%2F37.19.5.155%3A6881%2Fannounce&tr=http%3A%2F%2F46.4.109.148%3A6969%2Fannounce&tr=http%3A%2F%2F87.248.186.252%3A8080%2Fannounce&tr=http%3A%2F%2Fasmlocator.ru%3A34000%2F1hfZS1k4jh%2Fannounce&tr=http%3A%2F%2Fbt.evrl.to%2Fannounce&tr=http%3A%2F%2Fbt.rutracker.org%2Fann&tr=https%3A%2F%2Fwww.artikelplanet.nl&tr=http%3A%2F%2Fmgtracker.org%3A6969%2Fannounce&tr=http%3A%2F%2Fpubt.net%3A2710%2Fannounce&tr=http%3A%2F%2Ftracker.baravik.org%3A6970%2Fannounce&tr=http%3A%2F%2Ftracker.dler.org%3A6969%2Fannounce&tr=http%3A%2F%2Ftracker.filetracker.pl%3A8089%2Fannounce&tr=http%3A%2F%2Ftracker.grepler.com%3A6969%2Fannounce&tr=http%3A%2F%2Ftracker.mg64.net%3A6881%2Fannounce&tr=http%3A%2F%2Ftracker.tiny-vps.com%3A6969%2Fannounce&tr=http%3A%2F%2Ftracker.torrentyorg.pl%2Fannounce&tr=https%3A%2F%2Finternet.sitelio.me%2F&tr=https%3A%2F%2Fcomputer1.sitelio.me%2F&tr=udp%3A%2F%2F168.235.67.63%3A6969&tr=udp%3A%2F%2F182.176.139.129%3A6969&tr=udp%3A%2F%2F37.19.5.155%3A2710&tr=udp%3A%2F%2F46.148.18.250%3A2710&tr=udp%3A%2F%2F46.4.109.148%3A6969&tr=udp%3A%2F%2Fcomputerbedrijven.bestelinks.nl%2F&tr=udp%3A%2F%2Fcomputerbedrijven.startsuper.nl%2F&tr=udp%3A%2F%2Fcomputershop.goedbegin.nl%2F&tr=udp%3A%2F%2Fc3t.org&tr=udp%3A%2F%2Fallerhandelenlaag.nl&tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A80&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=udp%3A%2F%2Ftracker.publicbt.com%3A80&tr=udp%3A%2F%2Ftracker.tiny-vps.com%3A6969")}},{key:"render",value:function(){return Object(g.jsx)(a.a.Fragment,{children:Object(g.jsx)("div",{id:"player"})})}}]),n}(r.Component),T=Object(w.f)(S),I=n(4),L=n(126),C=n(45),_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props.classes;return Object(g.jsx)(a.a.Fragment,{children:Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsx)(L.a,{}),Object(g.jsxs)(d.a,{component:"main",className:t.main,maxWidth:"sm",children:[Object(g.jsx)(h.a,{variant:"h2",component:"h1",gutterBottom:!0,children:"WebStremio"}),Object(g.jsx)(C.a,{children:Object(g.jsxs)(w.c,{children:[Object(g.jsx)(w.a,{exact:!0,path:"/",children:Object(g.jsx)(x,{})}),Object(g.jsx)(w.a,{path:"/:id",children:Object(g.jsx)(T,{})})]})})]}),Object(g.jsx)("footer",{className:t.footer,children:Object(g.jsx)(d.a,{maxWidth:"sm",children:Object(g.jsx)(h.a,{variant:"body1",children:"We love Stremio"})})})]})})}}]),n}(r.Component),E=Object(I.a)((function(t){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:t.spacing(8),marginBottom:t.spacing(2)},footer:{padding:t.spacing(3,2),marginTop:"auto",backgroundColor:"light"===t.palette.type?t.palette.grey[200]:t.palette.grey[800]}}}))(_),H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),o(t),c(t)}))};c.a.render(Object(g.jsx)(E,{}),document.getElementById("root")),H()}},[[79,1,2]]]);
//# sourceMappingURL=main.f834762a.chunk.js.map