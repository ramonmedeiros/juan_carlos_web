{"version":3,"sources":["StreamList.js","App.js","Watch.js","Home.js","reportWebVitals.js","index.js"],"names":["StreamList","props","imdbId","state","torrentInfoHash","torrentMagnetURI","torrentName","torrentProgress","torrentFiles","mp4file","streams","watch","bind","this","listStreams","params","btoa","JSON","stringify","fetch","buildQuery","method","then","response","ok","Error","statusText","json","data","generateList","result","catch","error","console","ListItemLink","ListItem","button","component","items","stream","movie","filename","undefined","document","getElementById","value","link","window","location","href","infoHash","push","ListItemText","primary","infohash","Divider","setState","List","aria-label","Component","App","open","options","streamList","searchTitle","url","origin","pathname","fetchList","title","results","i","length","toLowerCase","includes","event","target","timeout","clearTimeout","setTimeout","searchJson","tconst","Autocomplete","id","style","width","onOpen","onClose","getOptionSelected","option","originalTitle","getOptionLabel","renderTags","renderInput","TextField","label","variant","onChange","ev","InputProps","Button","onClick","Watch","match","startStream","WebTorrent","add","generateMagnetLink","torrent","files","find","file","name","endsWith","getBlobURL","err","remove","src","Fragment","CircularProgress","controls","withRouter","Home","classes","className","root","CssBaseline","Container","main","maxWidth","Typography","gutterBottom","exact","path","footer","withStyles","theme","display","flexDirection","minHeight","marginTop","spacing","marginBottom","padding","backgroundColor","palette","type","grey","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"mRAuGeA,E,kDA7Fd,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IACDA,MAAQA,EACb,EAAKC,OAASD,EAAMC,OACpB,EAAKC,MAAQ,CACZC,gBAAiB,GACjBC,iBAAkB,GAClBC,YAAa,GACbC,gBAAiB,GACjBC,aAAc,GACdC,QAAS,GACTC,QAAS,IAEV,EAAKC,MAAQ,EAAKA,MAAMC,KAAX,gBAbK,E,qDAgBnB,WACCC,KAAKC,gB,wBAGN,WACC,IAAIC,EAAS,CACZ,OAAU,CACT,KACA,CACC,MAAS,CACR,QAAWF,KAAKX,OAChB,KAAQ,QACR,SAAYW,KAAKX,UAIpB,OAAU,cACV,GAAM,EACN,QAAW,OAGZ,OAAOc,KAAKC,KAAKC,UAAUH,M,yBAG5B,WAAe,IAAD,OACbI,MAAM,GAAD,OA7CY,mEA6CZ,OAAiBN,KAAKO,cAAgB,CAC1CC,OAAQ,QAEPC,MAAK,SAAAC,GACL,IAAKA,EAASC,GACb,MAAMC,MAAMF,EAASG,YAEtB,OAAOH,EAASI,UAEhBL,MAAK,SAAAM,GACL,EAAKC,aAAaD,EAAKE,WAEvBC,OAAM,SAACC,GACPC,QAAQD,MAAM,SAAUA,Q,0BAI3B,SAAatB,GACZ,SAASwB,EAAajC,GACrB,OAAO,cAACkC,EAAA,EAAD,aAAUC,QAAM,EAACC,UAAU,KAAQpC,IAG3C,IALqB,EAKfqC,EAAQ,GALO,cAMF5B,GANE,IAMrB,2BAA4B,CAAC,IAApB6B,EAAmB,QACvBC,EAAQD,EAAOE,cACLC,IAAVF,IACHA,EAAQG,SAASC,eAAe,eAAeC,OAChD,IAAIC,EAAI,UAAMC,OAAOC,SAASC,MAAtB,OAA6BV,EAAOW,UAC5CZ,EAAMa,KAAK,eAAC,WAAD,WACV,cAACjB,EAAD,CAAcE,QAAM,EAACa,KAAMH,EAA3B,SACC,cAACM,EAAA,EAAD,CAAcC,QAASb,EAAOc,SAAUf,EAAOW,aAEhD,cAACK,EAAA,EAAD,MAJyBhB,EAAOW,YAXb,8BAkBrBrC,KAAK2C,SAAL,2BAAmB3C,KAAKV,OAAxB,IAA+BO,QAAS4B,O,mBAGzC,SAAOQ,GACNC,OAAOC,SAASC,KAAKH,I,oBAGtB,WACC,OACC,cAAC,WAAD,UACC,cAACW,EAAA,EAAD,CAAMpB,UAAU,MAAMqB,aAAW,kBAAjC,SACE7C,KAAKV,MAAMO,gB,GAzFQiD,a,2BCwFVC,E,kDAtFb,WAAY3D,GAAQ,IAAD,8BACjB,cAAMA,IACDA,MAAQA,EACb,EAAKE,MAAQ,CACX0D,MAAM,EACNC,QAAS,GACTC,WAAY,IAEd,EAAKC,YAAc,EAAKA,YAAYpD,KAAjB,gBACnB,EAAKE,YAAc,EAAKA,YAAYF,KAAjB,gBACnB,EAAKgB,KAAO,GACZ,EAAKqC,IAAMlB,OAAOC,SAASkB,OAASnB,OAAOC,SAASmB,SAXnC,E,qDAcnB,WACEtD,KAAKuD,c,uBAGP,WAAa,IAAD,OACVjD,MAAM,GAAD,OAAIN,KAAKoD,IAAT,gBAA4B,CAC/B5C,OAAQ,QAEPC,MAAK,SAAAC,GAAQ,OAAIA,EAASI,UAC1BL,MAAK,SAAAM,GACJ,EAAKA,KAAOA,KAEbG,OAAM,SAACC,GACNC,QAAQD,MAAM,SAAUA,Q,wBAG9B,SAAWqC,GAET,IADA,IAAIC,EAAU,GACLC,EAAI,EAAGA,EAAI1D,KAAKe,KAAK4C,OAAQD,IAChC1D,KAAKe,KAAK2C,GAAV,cAA8BE,cAAcC,SAASL,EAAMI,gBAC7DH,EAAQnB,KAAKtC,KAAKe,KAAK2C,IAE3B,OAAOD,I,yBAGT,SAAYK,GAAQ,IAAD,OACbN,EAAQM,EAAMC,OAAO/B,MACrBhC,KAAKgE,SAASC,aAAajE,KAAKgE,SACpChE,KAAKgE,QAAUE,YAAW,WACxB,EAAKvB,SAAL,2BAAmB,EAAKrD,OAAxB,IAA+B2D,QAAS,EAAKkB,WAAWX,QACvD,O,yBAGL,WACE,IACInE,EADQW,KAAKmE,WAAWrC,SAASC,eAAe,eAAeC,OAChD,GAAGoC,OACtBpE,KAAK2C,SAAL,2BAAmB3C,KAAKV,OAAxB,IAA+B4D,WAAY,cAAC,EAAD,CAAyB7D,OAAQA,GAAhBA,Q,oBAG9D,WAAU,IAAD,OAEP,OACE,eAAC,WAAD,WACE,cAACgF,EAAA,EAAD,CACEC,GAAG,cACHC,MAAO,CAAEC,MAAO,QAChBxB,KAAMhD,KAAKV,MAAM0D,KACjByB,OAAQ,WAAQ,EAAK9B,SAAL,2BAAmB,EAAKrD,OAAxB,IAA+B0D,MAAM,MACrD0B,QAAS,WAAQ,EAAK/B,SAAL,2BAAmB,EAAKrD,OAAxB,IAA+B0D,MAAM,MACtD2B,kBAAmB,SAACC,EAAQ5C,GAAT,OAAmB4C,EAAOC,gBAAkB7C,EAAM6C,eACrEC,eAAgB,SAAAF,GAAM,OAAIA,EAAOC,eACjC5B,QAASjD,KAAKV,MAAM2D,QACpB8B,WAAY/E,KAAKC,YACjB+E,YAAa,SAAA9E,GAAM,OACjB,cAAC+E,EAAA,EAAD,2BACM/E,GADN,IAEEgF,MAAM,sBACNC,QAAQ,WACRC,SAAU,SAAAC,GAAQ,EAAKlC,YAAYkC,IACnCC,WAAU,eACLpF,EAAOoF,kBAIhB,cAACC,EAAA,EAAD,CAAQJ,QAAQ,YAAYK,QAASxF,KAAKC,YAA1C,sCACDD,KAAKV,MAAM4D,kB,GAjFFJ,a,iBCJZ2C,E,kDAEF,WAAYrG,GAAQ,IAAD,8BACf,cAAMA,IACDiD,SAAWjD,EAAMsG,MAAMxF,OAAOoE,GAFpB,E,qDAKnB,WACItE,KAAK2F,gB,yBAGT,YACiB,IAAIzD,OAAO0D,YACjBC,IAAI7F,KAAK8F,mBAAmB9F,KAAKqC,WAAW,SAAC0D,GAErCA,EAAQC,MAAMC,MAAK,SAAUC,GACpC,OAAOA,EAAKC,KAAKC,SAAS,WAGzBC,YAAW,SAAUC,EAAKlD,GAC3B,GAAIkD,EAAK,MAAMA,EACfxE,SAASC,eAAe,YAAYwE,SACpCzE,SAASC,eAAe,UAAUyE,IAAMpD,U,gCAKpD,SAAmBf,GACf,MAAM,uBAAN,OAA8BA,EAA9B,oV,oBAGJ,WACI,OACI,eAAC,IAAMoE,SAAP,WACQ,cAACC,EAAA,EAAD,CAAkBpC,GAAG,aACrB,uBACA,uBAAOqC,UAAQ,EAACrC,GAAG,SAASE,MAAM,gB,GApClC1B,aAyCL8D,cAAWnB,G,wBCfpBoB,E,4JAEF,WAAU,IACEC,EAAY9G,KAAKZ,MAAjB0H,QACR,OACI,cAAC,IAAML,SAAP,UACI,sBAAKM,UAAWD,EAAQE,KAAxB,UAEI,cAACC,EAAA,EAAD,IACA,eAACC,EAAA,EAAD,CAAW1F,UAAU,OAAOuF,UAAWD,EAAQK,KAAMC,SAAS,KAA9D,UACI,cAACC,EAAA,EAAD,CAAYlC,QAAQ,KAAK3D,UAAU,KAAK8F,cAAY,EAApD,wBAGA,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,OAAZ,SACI,cAAC,EAAD,cAKhB,wBAAQT,UAAWD,EAAQW,OAA3B,SACI,cAACP,EAAA,EAAD,CAAWE,SAAS,KAApB,SACI,cAACC,EAAA,EAAD,CAAYlC,QAAQ,QAApB,0C,GA1BTrC,aAuCJ4E,eA1DA,SAAAC,GAAK,MAAK,CACrBX,KAAM,CACFY,QAAS,OACTC,cAAe,SACfC,UAAW,SAEfX,KAAM,CACFY,UAAWJ,EAAMK,QAAQ,GACzBC,aAAcN,EAAMK,QAAQ,IAEhCP,OAAQ,CACJS,QAASP,EAAMK,QAAQ,EAAG,GAC1BD,UAAW,OACXI,gBAC2B,UAAvBR,EAAMS,QAAQC,KAAmBV,EAAMS,QAAQE,KAAK,KAAOX,EAAMS,QAAQE,KAAK,SA4C3EZ,CAAmBb,GCzDnB0B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBhI,MAAK,YAAkD,IAA/CiI,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,EAAD,IACAlH,SAASC,eAAe,SAM1BwG,M","file":"static/js/main.3026043c.chunk.js","sourcesContent":["import { Component, Fragment } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\n\nconst JuanCarlos = \"https://juan.best4stremio.space/stremioget/stremio/v1/q.json?b=\"\n\nclass StreamList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.props = props\n\t\tthis.imdbId = props.imdbId\n\t\tthis.state = {\n\t\t\ttorrentInfoHash: \"\",\n\t\t\ttorrentMagnetURI: \"\",\n\t\t\ttorrentName: \"\",\n\t\t\ttorrentProgress: \"\",\n\t\t\ttorrentFiles: [],\n\t\t\tmp4file: {},\n\t\t\tstreams: []\n\t\t}\n\t\tthis.watch = this.watch.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.listStreams()\n\t}\n\n\tbuildQuery() {\n\t\tlet params = {\n\t\t\t\"params\": [\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\t\"query\": {\n\t\t\t\t\t\t\"imdb_id\": this.imdbId,\n\t\t\t\t\t\t\"type\": \"movie\",\n\t\t\t\t\t\t\"video_id\": this.imdbId\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"method\": \"stream.find\",\n\t\t\t\"id\": 1,\n\t\t\t\"jsonrpc\": \"2.0\"\n\t\t}\n\n\t\treturn btoa(JSON.stringify(params))\n\t}\n\n\tlistStreams() {\n\t\tfetch(`${JuanCarlos}${this.buildQuery()}`, {\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow Error(response.statusText);\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tthis.generateList(data.result)\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t});\n\t}\n\n\tgenerateList(streams) {\n\t\tfunction ListItemLink(props) {\n\t\t\treturn <ListItem button component=\"a\" {...props} />;\n\t\t  }\n\t\t  \n\t\tconst items = []\n\t\tfor (let stream of streams) {\n\t\t\tlet movie = stream.filename\n\t\t\tif (movie === undefined)\n\t\t\t\tmovie = document.getElementById(\"imdb_search\").value\n\t\t\tlet link = `${window.location.href}${stream.infoHash}`\n\t\t\titems.push(<Fragment key={stream.infoHash}>\n\t\t\t\t<ListItemLink button href={link}>\n\t\t\t\t\t<ListItemText primary={movie} infohash={stream.infoHash} />\n\t\t\t\t</ListItemLink>\n\t\t\t\t<Divider />\n\t\t\t</Fragment>)\n\t\t}\n\t\tthis.setState({ ...this.state, streams: items })\n\t}\n\n\twatch (link){\n\t\twindow.location.href=link\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<List component=\"nav\" aria-label=\"mailbox folders\">\n\t\t\t\t\t{this.state.streams}\n\t\t\t\t</List>\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\nexport default StreamList;","import { React, Component, Fragment } from 'react';\nimport StreamList from './StreamList';\n\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Button from '@material-ui/core/Button';\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.props = props\n    this.state = {\n      open: false,\n      options: [],\n      streamList: [],\n    }\n    this.searchTitle = this.searchTitle.bind(this);\n    this.listStreams = this.listStreams.bind(this)\n    this.data = []\n    this.url = window.location.origin + window.location.pathname\n  }\n\n  componentDidMount() {\n    this.fetchList()\n  }\n\n  fetchList() {\n    fetch(`${this.url}/movies.json`, {\n      method: 'GET',\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.data = data\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n  }\n  searchJson(title) {\n    let results = []\n    for (var i = 0; i < this.data.length; i++) {\n      if (this.data[i][\"originalTitle\"].toLowerCase().includes(title.toLowerCase()))\n        results.push(this.data[i]);\n    }\n    return results\n  }\n\n  searchTitle(event) {\n    let title = event.target.value\n    if (this.timeout) clearTimeout(this.timeout);\n    this.timeout = setTimeout(() => {\n      this.setState({ ...this.state, options: this.searchJson(title) });\n    }, 300);\n  }\n\n  listStreams() {\n    let items = this.searchJson(document.getElementById(\"imdb_search\").value)\n    let imdbId = items[0].tconst\n    this.setState({ ...this.state, streamList: <StreamList key={imdbId} imdbId={imdbId} /> })\n  }\n\n  render() {\n\n    return (\n      <Fragment>\n        <Autocomplete\n          id=\"imdb_search\"\n          style={{ width: '100%' }}\n          open={this.state.open}\n          onOpen={() => { this.setState({ ...this.state, open: true }); }}\n          onClose={() => { this.setState({ ...this.state, open: false }); }}\n          getOptionSelected={(option, value) => option.originalTitle === value.originalTitle}\n          getOptionLabel={option => option.originalTitle}\n          options={this.state.options}\n          renderTags={this.listStreams}\n          renderInput={params => (\n            <TextField\n              {...params}\n              label=\"Type the movie name\"\n              variant=\"outlined\"\n              onChange={ev => { this.searchTitle(ev) }}\n              InputProps={{\n                ...params.InputProps,\n              }}\n            />\n          )}\n        /><Button variant=\"contained\" onClick={this.listStreams}>Search Available streams</Button>\n        {this.state.streamList}\n      </Fragment>\n    );\n  }\n}\n\n\nexport default App;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass Watch extends Component {\n\n    constructor(props) {\n        super(props)\n        this.infoHash = props.match.params.id\n    }\n\n    componentDidMount() {\n        this.startStream()\n    }\n\n    startStream() {\n        var client = new window.WebTorrent()\n        client.add(this.generateMagnetLink(this.infoHash), (torrent) => {\n  \n            var file = torrent.files.find(function (file) {\n                return file.name.endsWith('.mp4')\n            })\n\n            file.getBlobURL(function (err, url) {\n                if (err) throw err\n                document.getElementById(\"progress\").remove()\n                document.getElementById(\"player\").src = url\n              })\n        })\n    }\n\n    generateMagnetLink(infoHash) {\n        return `magnet:?xt=urn:btih:${infoHash}&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.fastcast.nz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com`\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                    <CircularProgress id=\"progress\" />\n                    <br />\n                    <video controls id=\"player\" width=\"100%\"></video>\n            </React.Fragment>)\n    }\n}\n\nexport default withRouter(Watch);\n","import Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport App from './App';\nimport Watch from './Watch';\nimport { withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { HashRouter as Router, Switch, Route, } from \"react-router-dom\";\n\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n    },\n    main: {\n        marginTop: theme.spacing(8),\n        marginBottom: theme.spacing(2),\n    },\n    footer: {\n        padding: theme.spacing(3, 2),\n        marginTop: 'auto',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[800],\n    },\n});\n\n\nclass Home extends Component {\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <React.Fragment>\n                <div className={classes.root}>\n\n                    <CssBaseline />\n                    <Container component=\"main\" className={classes.main} maxWidth=\"sm\">\n                        <Typography variant=\"h2\" component=\"h1\" gutterBottom>\n                            WebStremio\n                    </Typography>\n                        <Router >\n                            <Switch>\n                                <Route exact path=\"/\">\n                                    <App />\n                                </Route>\n                                <Route path=\"/:id\">\n                                    <Watch />\n                                </Route>\n                            </Switch>\n                        </Router>\n                    </Container>\n                    <footer className={classes.footer}>\n                        <Container maxWidth=\"sm\">\n                            <Typography variant=\"body1\">We love Stremio</Typography>\n                        </Container>\n                    </footer>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nHome.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Home);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Home from './Home';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Home />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}